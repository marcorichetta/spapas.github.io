<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="5_8DTmIiEq4gFvNAfxAD6TsGOgrMAjp8lQFQvfA6zZc" />
    <title>Getting a logical backup of all databases of your Postgresql server &mdash; /var/</title>
    <meta name="author" content="Serafeim Papastefanos">






    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://spapas.github.io/favicon.png" rel="icon">

    <link href="https://spapas.github.io/theme/css/main.css" media="screen, projection" rel="stylesheet"
      type="text/css">

    <link href="https://spapas.github.io/theme/css/extra_style.css" media="screen, projection" rel="stylesheet"
      type="text/css">

    <link href="https://fonts.googleapis.com/css?family=Fira+Mono|Fira+Sans:400,700&amp;subset=greek" rel="stylesheet">

<style>
#gHPzseYvFrhZ123 {
display: none;
margin-bottom: 30px;
padding: 20px 10px;
background: #D30000;
text-align: center;
font-weight: bold;
color: #fff;
border-radius: 5px;
}
</style>


    <script data-ad-client="ca-pub-7673322832689008" async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://spapas.github.io/">/var/</a></h1>
    <h2>Various programming stuff</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>


<ul class="main-navigation">
      <li >
        <a href="https://spapas.github.io/category/android.html">Android</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/css.html">Css</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/django.html">Django</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/elixir.html">Elixir</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/flask.html">Flask</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/git.html">Git</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/html.html">Html</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/javascript.html">Javascript</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/pelican.html">Pelican</a>
      </li>
      <li class="active">
        <a href="https://spapas.github.io/category/postgresql.html">Postgresql</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/python.html">Python</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/spring.html">Spring</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/unix.html">Unix</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/wagtail.html">Wagtail</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
    <div id="gHPzseYvFrhZ123">
      Hello! I see that you have an ad blocker. If you find something useful here 
      and want to support me somehow please consider disabling your ad blocker for this site. It won't cost you anything.
      
    </div>
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Getting a logical backup of all databases of your Postgresql server</h1>
    <p class="meta">
<time datetime="2016-11-02T15:10:00+02:00" pubdate>Τετ 02 Νοέμβριος 2016</time>    </p>
</header>

<div class="entry-content"><p>In this small post I will present a small bash script that could be used to create logical backups of all the databases in a Postgresql server along
with some other goodies. More specifically, the script&nbsp;will:</p>
<ul class="simple">
<li>Create two files at /tmp to output information (one for debugging and one with info for sending it through email at the&nbsp;end)</li>
<li>Create a backup directory with the current&nbsp;date</li>
<li>Create a list of all databases found on the&nbsp;server</li>
<li>For each database, vacuum and analyze it, backup it, gzip it and put it in the backup&nbsp;directory</li>
<li>Write info about the backup in the info log&nbsp;file</li>
<li>Do the same for global&nbsp;objects</li>
<li>Send an email when the backup is finished with the info&nbsp;log</li>
</ul>
<p>Now, in my system I&#8217;m using an external folder at <tt class="docutils literal">/mnt/backupdb</tt> to put my backups. You may either use the same technique or connect remotely to a
postgresql database (so you need to change the parameters of <tt class="docutils literal">vacuumdb</tt>, <tt class="docutils literal">pg_dump</tt> and <tt class="docutils literal">pg_dumpall</tt> to define the server and credentials to connect to)
and put the backups to a local&nbsp;disc.</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">&quot;&quot;</span> &gt; /tmp/db_backup.log
<span class="nb">echo</span> <span class="s2">&quot;&quot;</span> &gt; /tmp/db_backup_info.log
<span class="nv">date_str</span><span class="o">=</span><span class="k">$(</span>date +<span class="s2">&quot;%Y%m%d_%H%M%S&quot;</span><span class="k">)</span>
<span class="nv">backup_dir</span><span class="o">=</span>/mnt/backupdb/pg_backup.<span class="nv">$date_str</span>

mkdir <span class="nv">$backup_dir</span>
<span class="nb">pushd</span> <span class="nv">$backup_dir</span> &gt; /dev/null

<span class="nv">dbs</span><span class="o">=</span><span class="sb">`</span>sudo -u postgres psql -Upostgres -lt <span class="p">|</span> grep -v : <span class="p">|</span> cut -d <span class="se">\|</span> -f <span class="m">1</span> <span class="p">|</span> grep -v template <span class="p">|</span> grep -v -e <span class="s1">&#39;^\s*$&#39;</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/  *$//&#39;</span><span class="p">|</span>  tr <span class="s1">&#39;\n&#39;</span> <span class="s1">&#39; &#39;</span><span class="sb">`</span>
<span class="nb">echo</span> <span class="s2">&quot;Will backup: </span><span class="nv">$dbs</span><span class="s2"> to </span><span class="nv">$backup_dir</span><span class="s2">&quot;</span> &gt;&gt; /tmp/db_backup_info.log
<span class="k">for</span> db in <span class="nv">$dbs</span><span class="p">;</span> <span class="k">do</span>
  <span class="nb">echo</span> <span class="s2">&quot;Starting backup for </span><span class="nv">$db</span><span class="s2">&quot;</span> &gt;&gt; /tmp/db_backup_info.log
  <span class="nv">filename</span><span class="o">=</span><span class="nv">$db</span>.<span class="nv">$date_str</span>.sql.gz
  sudo -u postgres vacuumdb --analyze -Upostgres <span class="nv">$db</span> &gt;&gt; /tmp/db_backup.log
  sudo -u postgres pg_dump -Upostgres -v <span class="nv">$db</span> -F p <span class="m">2</span>&gt;&gt; /tmp/db_backup.log <span class="p">|</span> gzip &gt; <span class="nv">$filename</span>
  <span class="nv">size</span><span class="o">=</span><span class="sb">`</span>stat <span class="nv">$filename</span> --printf<span class="o">=</span><span class="s2">&quot;%s&quot;</span><span class="sb">`</span>
  <span class="nv">kb_size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;scale=2; </span><span class="nv">$size</span><span class="s2"> / 1024.0&quot;</span> <span class="p">|</span> bc<span class="sb">`</span>
  <span class="nb">echo</span> <span class="s2">&quot;Finished backup for </span><span class="nv">$db</span><span class="s2"> - size is </span><span class="nv">$kb_size</span><span class="s2"> KB&quot;</span> &gt;&gt; /tmp/db_backup_info.log
<span class="k">done</span>

<span class="nb">echo</span> <span class="s2">&quot;Backing up global objects&quot;</span> &gt;&gt; /tmp/db_backup_info.log
<span class="nv">filename</span><span class="o">=</span>global.<span class="nv">$date_str</span>.sql.gz
sudo -u postgres pg_dumpall -Upostgres -v -g <span class="m">2</span>&gt;&gt; /tmp/db_backup.log <span class="p">|</span> gzip &gt; <span class="nv">$filename</span>
<span class="nv">size</span><span class="o">=</span><span class="sb">`</span>stat <span class="nv">$filename</span> --printf<span class="o">=</span><span class="s2">&quot;%s&quot;</span><span class="sb">`</span>
<span class="nv">kb_size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;scale=2; </span><span class="nv">$size</span><span class="s2"> / 1024.0&quot;</span> <span class="p">|</span> bc<span class="sb">`</span>
<span class="nb">echo</span> <span class="s2">&quot;Finished backup for global - size is </span><span class="nv">$kb_size</span><span class="s2"> KB&quot;</span> &gt;&gt; /tmp/db_backup_info.log

<span class="nb">echo</span> <span class="s2">&quot;Ok!&quot;</span> &gt;&gt; /tmp/db_backup_info.log
mail -s <span class="s2">&quot;Backup results&quot;</span> spapas@mymail.foo.bar  &lt; /tmp/db_backup_info.log
<span class="nb">popd</span> &gt; /dev/null
</pre></div>
<p>Let&#8217;s explain a bit the above script: The two first lines (echo &#8230;)  will just clear out the two files <tt class="docutils literal">/tmp/db_backup.log</tt> and <tt class="docutils literal">/tmp/db_backup_info.log</tt>. The first
will contain debug info from the commands and the second one will contain our info that will be sent through an email at the end of the backup. After that, we initialize
<tt class="docutils literal">date_str</tt> with the current date in the form <tt class="docutils literal">20161102_145011</tt> and the backup_dir with the correct directory to save the backups to. We then create the backup directory
and switch to it with <tt class="docutils literal">pushd</tt>.</p>
<p>The following, rather long command will assign the names of the databases to the <tt class="docutils literal">dbs</tt> variable. So how is it working? <tt class="docutils literal">psql <span class="pre">-lt</span></tt> lists the names of the databases, but lists
also more non-needed information which we remove with the following commands (grep, cut etc). The sed removes whitespace and the tr concatenates individual lines to a single line
so dbs will have a value like &#8216;db1 db2 &#8230;&#8217;. For each one of these files then we assign its name and date to a filename and then, after we execute vacuumdb we use pg_dump with gzip to actually
create the backup and output it to the file. The other two lines (size and kb_size) are used to calculate the size of the backup file (to be sure that something is actually created) - you&#8217;ll
need to install bc for that. The same process is followed the to backup global objects (usernames etc) using <tt class="docutils literal">pg_dumpall <span class="pre">-g</span></tt>. Finally, we send a mail with a subject of &#8220;Backup results&#8221;
and body the contents of <tt class="docutils literal">/tmp/db_backup_info.log</tt>.</p>
<p>I&#8217;ve saved this file to <tt class="docutils literal">/var/lib/pgsql/db_backup_all.sh</tt>. To run I propose using cron &#8212; just edit your crontab (through <tt class="docutils literal">vi /etc/crontab</tt>) and add the&nbsp;line</p>
<pre class="code literal-block">
15 2  *  *  * root       /usr/bin/bash /var/lib/pgsql/db_backup_all.sh
</pre>
<p>This will run the backup every night at 2.15. Uses the root user to have access rights to the backup folder. One thing to be careful about is that on Redhat/Centos distributions,
the above won&#8217;t work because sudo requires a tty to work and cron doesn&#8217;t have one. To fix this, comment out the&nbsp;line</p>
<pre class="code literal-block">
Defaults    requiretty
</pre>
<p>of your /etc/sudoers&nbsp;file.</p>
<p><strong>Update 02/12/2016:</strong> Here&#8217;s a little better version of the above script&nbsp;that</p>
<ol class="arabic simple">
<li>Create two files for each database, one with <span class="caps">SQL</span> script backup, one with binary backup. Although with <span class="caps">SQL</span> backup you can check out the backup and maybe do changes before applying it, the binary backup is a more foolproof method of restoring everything to your database! Also, instead of restoring the database through <tt class="docutils literal">psql</tt> (as required by the <span class="caps">SQL</span> script backup), using the binary backup you can restore through the <tt class="docutils literal">pg_restore</tt> tool.</li>
<li>Adds a function to output the file size (so the script is more <span class="caps">DRY</span>)</li>
</ol>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>

<span class="k">function</span> output_file_size <span class="o">{</span>
  <span class="nv">size</span><span class="o">=</span><span class="sb">`</span>stat <span class="nv">$1</span> --printf<span class="o">=</span><span class="s2">&quot;%s&quot;</span><span class="sb">`</span>
  <span class="nv">kb_size</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">&quot;scale=2; </span><span class="nv">$size</span><span class="s2"> / 1024.0&quot;</span> <span class="p">|</span> bc<span class="sb">`</span>
  <span class="nb">echo</span> <span class="s2">&quot;Finished backup for </span><span class="nv">$2</span><span class="s2"> - size is </span><span class="nv">$kb_size</span><span class="s2"> KB&quot;</span> &gt;&gt; /tmp/db_backup_info.log
<span class="o">}</span>

<span class="nb">echo</span> <span class="s2">&quot;&quot;</span> &gt; /tmp/db_backup.log
<span class="nb">echo</span> <span class="s2">&quot;&quot;</span> &gt; /tmp/db_backup_info.log
<span class="nv">date_str</span><span class="o">=</span><span class="k">$(</span>date +<span class="s2">&quot;%Y%m%d_%H%M%S&quot;</span><span class="k">)</span>
<span class="nv">backup_dir</span><span class="o">=</span>/mnt/backupdb/dbpg/pg_backup.<span class="nv">$date_str</span>

mkdir <span class="nv">$backup_dir</span>
<span class="nb">pushd</span> <span class="nv">$backup_dir</span> &gt; /dev/null
<span class="nv">dbs</span><span class="o">=</span><span class="sb">`</span>sudo -u postgres psql -Upostgres -lt <span class="p">|</span> cut -d <span class="se">\|</span> -f <span class="m">1</span> <span class="p">|</span> grep -v template <span class="p">|</span> grep -v -e <span class="s1">&#39;^\s*$&#39;</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/  *$//&#39;</span><span class="p">|</span>  tr <span class="s1">&#39;\n&#39;</span> <span class="s1">&#39; &#39;</span><span class="sb">`</span>
<span class="c1">#dbs=&#39;dgul  hrms  mailer_server  missions  postgres&#39;</span>
<span class="nb">echo</span> <span class="s2">&quot;Will backup: </span><span class="nv">$dbs</span><span class="s2"> to </span><span class="nv">$backup_dir</span><span class="s2">&quot;</span> &gt;&gt; /tmp/db_backup_info.log
<span class="k">for</span> db in <span class="nv">$dbs</span><span class="p">;</span> <span class="k">do</span>
  <span class="nb">echo</span> <span class="s2">&quot;Starting backup for </span><span class="nv">$db</span><span class="s2">&quot;</span> &gt;&gt; /tmp/db_backup_info.log
  <span class="nv">filename</span><span class="o">=</span><span class="nv">$db</span>.<span class="nv">$date_str</span>.sql.gz
  <span class="nv">filename_binary</span><span class="o">=</span><span class="nv">$db</span>.<span class="nv">$date_str</span>.bak.gz
  sudo -u postgres vacuumdb --analyze -Upostgres <span class="nv">$db</span> &gt;&gt; /tmp/db_backup.log
  sudo -u postgres pg_dump -Upostgres -v <span class="nv">$db</span> -F p <span class="m">2</span>&gt;&gt; /tmp/db_backup.log <span class="p">|</span> gzip &gt; <span class="nv">$filename</span>
  sudo -u postgres pg_dump -Upostgres -v <span class="nv">$db</span> -F c <span class="m">2</span>&gt;&gt; /tmp/db_backup.log <span class="p">|</span> gzip &gt; <span class="nv">$filename_binary</span>
  output_file_size <span class="nv">$filename</span> <span class="s2">&quot;</span><span class="nv">$db</span><span class="s2"> sql&quot;</span>
  output_file_size <span class="nv">$filename_binary</span> <span class="s2">&quot;</span><span class="nv">$db</span><span class="s2"> bin&quot;</span>
<span class="k">done</span>
<span class="nb">echo</span> <span class="s2">&quot;Backing up global objects&quot;</span> &gt;&gt; /tmp/db_backup_info.log
<span class="nv">filename</span><span class="o">=</span>global.<span class="nv">$date_str</span>.sql.gz
sudo -u postgres pg_dumpall -Upostgres -v -g <span class="m">2</span>&gt;&gt; /tmp/db_backup.log <span class="p">|</span> gzip &gt; <span class="nv">$filename</span>
output_file_size <span class="nv">$filename</span> global
<span class="nb">echo</span> <span class="s2">&quot;Ok!&quot;</span> &gt;&gt; /tmp/db_backup_info.log
mail -s <span class="s2">&quot;Backup results&quot;</span> spapas@hcg.gr  &lt; /tmp/db_backup_info.log
<span class="nb">popd</span> &gt; /dev/null
</pre></div>
</div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Serafeim Papastefanos
    </span>
  </span>
<time datetime="2016-11-02T15:10:00+02:00" pubdate>Τετ 02 Νοέμβριος 2016</time>  <span class="categories">
    <a class='category' href='https://spapas.github.io/category/postgresql.html'>postgresql</a>
  </span>
  <span class="categories">
    <a class="category" href="https://spapas.github.io/tag/bash.html">bash</a>,    <a class="category" href="https://spapas.github.io/tag/cron.html">cron</a>,    <a class="category" href="https://spapas.github.io/tag/postgresql.html">postgresql</a>  </span>
</p><div class="sharing">
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="https://spapas.github.io/2016/11/02/postgresql-backup/" data-via="" data-counturl="https://spapas.github.io/2016/11/02/postgresql-backup/" >Tweet</a>
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <br />
    <a href='/feeds/all.atom.xml'>Atom</a>
    |
    <a href='/feeds/all.rss.xml'>RSS</a>
  </section>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Sidebar unit -->
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7673322832689008" data-ad-slot="2720624730"
    data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  <section>
    <h1>Subscribe</h1>
    Do you want to get notified via email when I post new content?
    <style>
      .subscribe-button {
        /* margin: 10px !important; */
        padding: 10px !important;
        background-color: black;
        display: inline-block;
        color: white !important;
        text-decoration: none;

        line-height: 36px !important;
        height: 37px !important;
        text-decoration: none !important;
        display: inline-block !important;
        color: #ffffff !important;
        background-color: #000000 !important;
        border-radius: 3px !important;
        border: 1px solid transparent !important;
        padding: 1px 9px !important;
        font-size: 23px !important;
        letter-spacing: 0.6px !important;
        box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
        -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
        margin: 0 auto !important;
        font-family: 'Cookie', cursive !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
        -o-transition: 0.3s all linear !important;
        -webkit-transition: 0.3s all linear !important;
        -moz-transition: 0.3s all linear !important;
        -ms-transition: 0.3s all linear !important;
        transition: 0.3s all linear !important;

      }
    </style>
    <a class='subscribe-button' target="_blank" href="http://eepurl.com/dxI3PP">Click here to subscribe!</a>
  </section>

  <style>
    .bmc-button img {
      width: 27px !important;
      margin-bottom: 3px !important;
      box-shadow: none !important;
      border: none !important;
      vertical-align: middle !important;
    }

    .bmc-button {
      line-height: 36px !important;
      height: 37px !important;
      text-decoration: none !important;
      display: inline-block !important;
      color: #ffffff !important;
      background-color: #000000 !important;
      border-radius: 3px !important;
      border: 1px solid transparent !important;
      padding: 1px 9px !important;
      font-size: 23px !important;
      letter-spacing: 0.6px !important;
      ;
      box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
      -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
      margin: 0 auto !important;
      font-family: 'Cookie', cursive !important;
      -webkit-box-sizing: border-box !important;
      box-sizing: border-box !important;
      -o-transition: 0.3s all linear !important;
      -webkit-transition: 0.3s all linear !important;
      -moz-transition: 0.3s all linear !important;
      -ms-transition: 0.3s all linear !important;
      transition: 0.3s all linear !important;
    }

    .bmc-button:hover,
    .bmc-button:active,
    .bmc-button:focus {
      -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
      text-decoration: none !important;
      box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
      opacity: 0.85 !important;
      color: #ffffff !important;
    }
  </style>
  <link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">


  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
        <a href="https://spapas.github.io/2020/03/27/wagtail-add-latest-changes/">Adding a latest-changes list to your Wagtail site</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2020/03/18/django-crispy-form-quick-easy-layout/">Quick and easy layout of django forms using django-crispy-forms and django-widget-tweaks</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2019/10/17/declarative-ecto-query-sorting/">Declarative Ecto query sorting</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2019/10/03/html-form-submit-php/">How to properly handle an HTML form</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2019/07/25/declarative-ecto-query-filters/">Declarative Ecto query filters</a>
      </li>
    </ul>
  </section>
  <section>

    <h1>Categories</h1>
    <ul id="recent_posts">
      <li><a href="https://spapas.github.io/category/android.html">android</a></li>
      <li><a href="https://spapas.github.io/category/css.html">css</a></li>
      <li><a href="https://spapas.github.io/category/django.html">django</a></li>
      <li><a href="https://spapas.github.io/category/elixir.html">elixir</a></li>
      <li><a href="https://spapas.github.io/category/flask.html">flask</a></li>
      <li><a href="https://spapas.github.io/category/git.html">git</a></li>
      <li><a href="https://spapas.github.io/category/html.html">html</a></li>
      <li><a href="https://spapas.github.io/category/javascript.html">javascript</a></li>
      <li><a href="https://spapas.github.io/category/pelican.html">pelican</a></li>
      <li><a href="https://spapas.github.io/category/postgresql.html">postgresql</a></li>
      <li><a href="https://spapas.github.io/category/python.html">python</a></li>
      <li><a href="https://spapas.github.io/category/spring.html">spring</a></li>
      <li><a href="https://spapas.github.io/category/unix.html">unix</a></li>
      <li><a href="https://spapas.github.io/category/wagtail.html">wagtail</a></li>
    </ul>
  </section>

  <section>
    <h1>Tags</h1>
    <a href="https://spapas.github.io/tag/less.html">less</a>,    <a href="https://spapas.github.io/tag/django-crispy-forms.html">django-crispy-forms</a>,    <a href="https://spapas.github.io/tag/rest.html">rest</a>,    <a href="https://spapas.github.io/tag/query.html">query</a>,    <a href="https://spapas.github.io/tag/ecto.html">ecto</a>,    <a href="https://spapas.github.io/tag/tables.html">tables</a>,    <a href="https://spapas.github.io/tag/pivot_table.html">pivot_table</a>,    <a href="https://spapas.github.io/tag/console.html">console</a>,    <a href="https://spapas.github.io/tag/async.html">async</a>,    <a href="https://spapas.github.io/tag/django-rq.html">django-rq</a>,    <a href="https://spapas.github.io/tag/github-pages.html">github-pages</a>,    <a href="https://spapas.github.io/tag/forms.html">forms</a>,    <a href="https://spapas.github.io/tag/yaml.html">yaml</a>,    <a href="https://spapas.github.io/tag/404.html">404</a>,    <a href="https://spapas.github.io/tag/ldap.html">ldap</a>,    <a href="https://spapas.github.io/tag/immutable.html">immutable</a>,    <a href="https://spapas.github.io/tag/initd.html">init.d</a>,    <a href="https://spapas.github.io/tag/django-widget-tweaks.html">django-widget-tweaks</a>,    <a href="https://spapas.github.io/tag/youtube-dl.html">youtube-dl</a>,    <a href="https://spapas.github.io/tag/python.html">python</a>,    <a href="https://spapas.github.io/tag/django-extensions.html">django-extensions</a>,    <a href="https://spapas.github.io/tag/class-based-views.html">class-based-views</a>,    <a href="https://spapas.github.io/tag/scipy.html">scipy</a>,    <a href="https://spapas.github.io/tag/grid.html">grid</a>,    <a href="https://spapas.github.io/tag/ag-grid.html">ag-grid</a>,    <a href="https://spapas.github.io/tag/du.html">du</a>,    <a href="https://spapas.github.io/tag/watchify.html">watchify</a>,    <a href="https://spapas.github.io/tag/settings.html">settings</a>,    <a href="https://spapas.github.io/tag/flux.html">flux</a>,    <a href="https://spapas.github.io/tag/fixeddatatable.html">FixedDataTable</a>,    <a href="https://spapas.github.io/tag/queries.html">queries</a>,    <a href="https://spapas.github.io/tag/debug.html">debug</a>,    <a href="https://spapas.github.io/tag/imgur.html">imgur</a>,    <a href="https://spapas.github.io/tag/security.html">security</a>,    <a href="https://spapas.github.io/tag/npm.html">npm</a>,    <a href="https://spapas.github.io/tag/hyperapp.html">hyperapp</a>,    <a href="https://spapas.github.io/tag/spring.html">spring</a>,    <a href="https://spapas.github.io/tag/react-redux.html">react-redux</a>,    <a href="https://spapas.github.io/tag/cron.html">cron</a>,    <a href="https://spapas.github.io/tag/babelify.html">babelify</a>,    <a href="https://spapas.github.io/tag/design.html">design</a>,    <a href="https://spapas.github.io/tag/tutorial.html">tutorial</a>,    <a href="https://spapas.github.io/tag/gmail.html">gmail</a>,    <a href="https://spapas.github.io/tag/reportlab.html">reportlab</a>,    <a href="https://spapas.github.io/tag/rq.html">rq</a>,    <a href="https://spapas.github.io/tag/redis.html">redis</a>,    <a href="https://spapas.github.io/tag/python-3.html">python-3</a>,    <a href="https://spapas.github.io/tag/research.html">research</a>,    <a href="https://spapas.github.io/tag/werkzeug.html">werkzeug</a>,    <a href="https://spapas.github.io/tag/jobs.html">jobs</a>,    <a href="https://spapas.github.io/tag/redux-thunk.html">redux-thunk</a>,    <a href="https://spapas.github.io/tag/disk-usage.html">disk-usage</a>,    <a href="https://spapas.github.io/tag/javascript.html">javascript</a>,    <a href="https://spapas.github.io/tag/component.html">component</a>,    <a href="https://spapas.github.io/tag/ajax.html">ajax</a>,    <a href="https://spapas.github.io/tag/elixir.html">elixir</a>,    <a href="https://spapas.github.io/tag/ipython.html">ipython</a>,    <a href="https://spapas.github.io/tag/uglify.html">uglify</a>,    <a href="https://spapas.github.io/tag/configuration.html">configuration</a>,    <a href="https://spapas.github.io/tag/properties.html">properties</a>,    <a href="https://spapas.github.io/tag/bash.html">bash</a>,    <a href="https://spapas.github.io/tag/es6.html">es6</a>,    <a href="https://spapas.github.io/tag/spring-boot.html">spring-boot</a>,    <a href="https://spapas.github.io/tag/postgresql.html">postgresql</a>,    <a href="https://spapas.github.io/tag/kotlin.html">kotlin</a>,    <a href="https://spapas.github.io/tag/adapter.html">adapter</a>,    <a href="https://spapas.github.io/tag/filter.html">filter</a>,    <a href="https://spapas.github.io/tag/flask.html">flask</a>,    <a href="https://spapas.github.io/tag/notebook.html">notebook</a>,    <a href="https://spapas.github.io/tag/static-html.html">static-html</a>,    <a href="https://spapas.github.io/tag/pdf.html">pdf</a>,    <a href="https://spapas.github.io/tag/react-notification.html">react-notification</a>,    <a href="https://spapas.github.io/tag/pelican.html">pelican</a>,    <a href="https://spapas.github.io/tag/tasks.html">tasks</a>,    <a href="https://spapas.github.io/tag/nodejs.html">node.js</a>,    <a href="https://spapas.github.io/tag/unix.html">unix</a>,    <a href="https://spapas.github.io/tag/google.html">google</a>,    <a href="https://spapas.github.io/tag/linux.html">linux</a>,    <a href="https://spapas.github.io/tag/pivot.html">pivot</a>,    <a href="https://spapas.github.io/tag/auditing.html">auditing</a>,    <a href="https://spapas.github.io/tag/git.html">git</a>,    <a href="https://spapas.github.io/tag/java.html">java</a>,    <a href="https://spapas.github.io/tag/introduction.html">introduction</a>,    <a href="https://spapas.github.io/tag/pusher.html">pusher</a>,    <a href="https://spapas.github.io/tag/fixed-data-tables.html">fixed-data-tables</a>,    <a href="https://spapas.github.io/tag/heroku.html">heroku</a>,    <a href="https://spapas.github.io/tag/xhtml2pdf.html">xhtml2pdf</a>,    <a href="https://spapas.github.io/tag/numpy.html">numpy</a>,    <a href="https://spapas.github.io/tag/form.html">form</a>,    <a href="https://spapas.github.io/tag/django-rest-auth.html">django-rest-auth</a>,    <a href="https://spapas.github.io/tag/wagtail.html">wagtail</a>,    <a href="https://spapas.github.io/tag/rst.html">rst</a>,    <a href="https://spapas.github.io/tag/python-2.html">python-2</a>,    <a href="https://spapas.github.io/tag/ffmpeg.html">ffmpeg</a>,    <a href="https://spapas.github.io/tag/middleware.html">middleware</a>,    <a href="https://spapas.github.io/tag/profiles.html">profiles</a>,    <a href="https://spapas.github.io/tag/spring-security.html">spring-security</a>,    <a href="https://spapas.github.io/tag/githubio.html">github.io</a>,    <a href="https://spapas.github.io/tag/error.html">error</a>,    <a href="https://spapas.github.io/tag/asynchronous.html">asynchronous</a>,    <a href="https://spapas.github.io/tag/react-router-redux.html">react-router-redux</a>,    <a href="https://spapas.github.io/tag/select2.html">select2</a>,    <a href="https://spapas.github.io/tag/history.html">history</a>,    <a href="https://spapas.github.io/tag/django-rest-framework.html">django-rest-framework</a>,    <a href="https://spapas.github.io/tag/redux-form.html">redux-form</a>,    <a href="https://spapas.github.io/tag/cbv.html">cbv</a>,    <a href="https://spapas.github.io/tag/scheduling.html">scheduling</a>,    <a href="https://spapas.github.io/tag/plpgsql.html">plpgsql</a>,    <a href="https://spapas.github.io/tag/boilerplate.html">boilerplate</a>,    <a href="https://spapas.github.io/tag/generic.html">generic</a>,    <a href="https://spapas.github.io/tag/babel.html">babel</a>,    <a href="https://spapas.github.io/tag/authentication.html">authentication</a>,    <a href="https://spapas.github.io/tag/html.html">html</a>,    <a href="https://spapas.github.io/tag/android.html">android</a>,    <a href="https://spapas.github.io/tag/pandas.html">pandas</a>,    <a href="https://spapas.github.io/tag/css.html">css</a>,    <a href="https://spapas.github.io/tag/node.html">node</a>,    <a href="https://spapas.github.io/tag/phoenix.html">phoenix</a>,    <a href="https://spapas.github.io/tag/deploy.html">deploy</a>,    <a href="https://spapas.github.io/tag/mongodb.html">mongodb</a>,    <a href="https://spapas.github.io/tag/react.html">react</a>,    <a href="https://spapas.github.io/tag/autocompelte.html">autocompelte</a>,    <a href="https://spapas.github.io/tag/declarative.html">declarative</a>,    <a href="https://spapas.github.io/tag/php.html">php</a>,    <a href="https://spapas.github.io/tag/browserify.html">browserify</a>,    <a href="https://spapas.github.io/tag/branching.html">branching</a>,    <a href="https://spapas.github.io/tag/github.html">github</a>,    <a href="https://spapas.github.io/tag/jupyter.html">jupyter</a>,    <a href="https://spapas.github.io/tag/windows.html">windows</a>,    <a href="https://spapas.github.io/tag/youtube.html">youtube</a>,    <a href="https://spapas.github.io/tag/django.html">django</a>,    <a href="https://spapas.github.io/tag/q.html">q</a>,    <a href="https://spapas.github.io/tag/react-router.html">react-router</a>,    <a href="https://spapas.github.io/tag/redux.html">redux</a>,    <a href="https://spapas.github.io/tag/boostrap-material-design.html">boostrap-material-design</a>  </section>

  <section>
    <h1>Yearly archives</h1>
    <a href="https://spapas.github.io/posts/2013/">2013</a>,    <a href="https://spapas.github.io/posts/2014/">2014</a>,    <a href="https://spapas.github.io/posts/2015/">2015</a>,    <a href="https://spapas.github.io/posts/2016/">2016</a>,    <a href="https://spapas.github.io/posts/2017/">2017</a>,    <a href="https://spapas.github.io/posts/2018/">2018</a>,    <a href="https://spapas.github.io/posts/2019/">2019</a>,    <a href="https://spapas.github.io/posts/2020/">2020</a>  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/spapas">@spapas</a> on GitHub
    <script  src="//code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script type="text/javascript">
      $(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'https://spapas.github.io/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'spapas',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="https://spapas.github.io/theme/js/github.js" type="text/javascript"> </script>
  </section>


  <section>
    <a href="https://twitter.com/_serafeim_?ref_src=twsrc%5Etfw" class="twitter-follow-button"
      data-show-count="false">Follow @_serafeim_</a>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2013&ndash;2020  Serafeim Papastefanos &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="https://spapas.github.io/theme/js/modernizr-2.0.js"></script>
  <script src="https://spapas.github.io/theme/js/ender.js"></script>
  <script src="https://spapas.github.io/theme/js/octopress.js" type="text/javascript"></script>
  <script src="https://spapas.github.io/theme/js/ads.js"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44750952-1', 'auto');

    ga('send', 'pageview');
    </script>
  <script type="text/javascript">
    var disqus_shortname = 'spapas-github-io';
    var disqus_identifier = '/2016/11/02/postgresql-backup/';
    var disqus_url = 'https://spapas.github.io/2016/11/02/postgresql-backup/';
    var disqus_title = 'Getting a logical backup of all databases of your Postgresql&nbsp;server';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
  <script>
    if( window.canRunAds === undefined ){
        // adblocker detected, show fallback
        console.log("CANNOT RUN ADS");
        document.getElementById('gHPzseYvFrhZ123').style.display='block';
      }
  </script>
</body>

</html>