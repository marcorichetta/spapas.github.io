<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="5_8DTmIiEq4gFvNAfxAD6TsGOgrMAjp8lQFQvfA6zZc" />
    <title>Getting alerts from OS Mon in your Elixir application &mdash; /var/</title>
    <meta name="author" content="Serafeim Papastefanos">






    <!-- http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://spapas.github.io/favicon.png" rel="icon">

    <link href="https://spapas.github.io/theme/css/main.css" media="screen, projection" rel="stylesheet"
      type="text/css">

    <link href="https://spapas.github.io/theme/css/extra_style.css" media="screen, projection" rel="stylesheet"
      type="text/css">

    <link href="https://fonts.googleapis.com/css?family=Fira+Mono|Fira+Sans:400,700&amp;subset=greek" rel="stylesheet">

<style>
#gHPzseYvFrhZ123 {
display: none;
margin-bottom: 30px;
padding: 20px 10px;
background: #D30000;
text-align: center;
font-weight: bold;
color: #fff;
border-radius: 5px;
}
</style>


    <script data-ad-client="ca-pub-7673322832689008" async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://spapas.github.io/">/var/</a></h1>
    <h2>Various programming stuff</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>


<ul class="main-navigation">
      <li >
        <a href="https://spapas.github.io/category/android.html">Android</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/css.html">Css</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/django.html">Django</a>
      </li>
      <li class="active">
        <a href="https://spapas.github.io/category/elixir.html">Elixir</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/flask.html">Flask</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/git.html">Git</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/html.html">Html</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/javascript.html">Javascript</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/pelican.html">Pelican</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/postgresql.html">Postgresql</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/python.html">Python</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/spring.html">Spring</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/unix.html">Unix</a>
      </li>
      <li >
        <a href="https://spapas.github.io/category/wagtail.html">Wagtail</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
    <div id="gHPzseYvFrhZ123">
      Hello! I see that you have an ad blocker. If you find something useful here 
      and want to support me somehow please consider disabling your ad blocker for this site. It won't cost you anything.
      
    </div>
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Getting alerts from OS Mon in your Elixir application</h1>
    <p class="meta">
<time datetime="2020-05-15T14:20:00+03:00" pubdate>Παρ 15 Μάιος 2020</time>    </p>
</header>

<div class="entry-content"><p>When I upgraded my <a class="reference external" href="https://github.com/spapas/phxcrd/">Phoenix template application</a> to Phoenix 1.5.1 I also enabled the new
<a class="reference external" href="https://github.com/phoenixframework/phoenix_live_dashboard">Phoenix LiveDashboard</a> and its &#8220;<span class="caps">OS</span> Data&#8221; tab. To enable that <span class="caps">OS</span> Data tab you have to
enable the <tt class="docutils literal">:os_mon</tt> erlang application by adding it (along with <tt class="docutils literal">:logger</tt> and <tt class="docutils literal">:runtime_tools</tt>) to
your <tt class="docutils literal">extra_applications</tt> setting <a class="reference external" href="https://hexdocs.pm/phoenix_live_dashboard/os_mon.html#enabling-os_mon">as described here</a>.</p>
<p>When I enabled the <tt class="docutils literal">os_mon</tt> application I immediately saw a warning in my logs that one of disks is almost full (which is
a fact). I knew that I wanted to understand how these warnings are generated and if I could handle them with
some custom code to send an email for&nbsp;example.</p>
<p>This journey lead me to an interesting erlang rabbit hole which I&#8217;ll describe in this small&nbsp;post.</p>
<div class="section" id="the-os-mon-erlang-application">
<h2>The os_mon erlang&nbsp;application</h2>
<p><a class="reference external" href="http://erlang.org/doc/man/os_mon_app.html">os_mon</a> is an erlang application that, when started will run 4 processes for monitoring
<span class="caps">CPU</span> load, disk, memory and some <span class="caps">OS</span> settings. These don&#8217;t work for all operating systems
but memory and disk which are the most interesting to me do work on both unix and&nbsp;Windows.</p>
<p>The disk and memory monitoring processes are called <tt class="docutils literal">memsup</tt> and <tt class="docutils literal">disksup</tt> and run a periodic
configurable check that checks if the  memory or disk space usage is above a (configurable)
threshold. If the usage is over the threashold then an error will be reported to the
<a class="reference external" href="http://erlang.org/doc/man/alarm_handler.html"><span class="caps">SASL</span> alarm handler</a> (<span class="caps">SASL</span> is erlang&#8217;s System Architecture Support&nbsp;Libraries).</p>
</div>
<div class="section" id="the-alarm-handler-situation">
<h2>The alarm handler&nbsp;situation</h2>
<p>The <span class="caps">SASL</span> alarm handler is a process that implements the <a class="reference external" href="http://erlang.org/doc/man/gen_event.html">gen_event</a> behavior. It must
be noted that this behavior is <a class="reference external" href="https://pattern-match.com/blog/2018/08/31/what-is-wrong-with-gen-event-an-update/">rather controversial</a> and should not be used
for your own event handling (you can use your own gen server solution or gen stage).
A <tt class="docutils literal">gen_event</tt> process is an event manager. This event manager keeps a list of
event handlers; when an event happens the event manager will notify each of the
event handlers. Each event handler is just a module so when an event occurs all
event handlers will be run in the same process one after the other (that&#8217;s the
actual reason of why gen_event is not very&nbsp;loved).</p>
<p>The <span class="caps">SASL</span> alarm handler (the gen_event event manager)
is implemented in a module named <tt class="docutils literal">:alarm_handler</tt>. A rather
unfortunate decision is that the default simple alarm handler
(the gen_event event handler) is <em>also</em> implemented
in the same module so in the following you&#8217;ll see <tt class="docutils literal">:alarm_handler</tt> twice!</p>
<p>The default simple alarm handler can be exchanged with your own custom implementation or
you can even add additional alarm handlers so they&#8217;ll be called one after the&nbsp;other.</p>
<p>To add another custom event handler for alarms, you&#8217;ll use the <a class="reference external" href="http://erlang.org/doc/man/gen_event.html#add_handler-3">add_handler</a> method of gen_event. To change it
with your own, you&#8217;ll use the <a class="reference external" href="http://erlang.org/doc/man/gen_event.html#swap_handler-3">swap_handler</a> of gen_event. When the default simple alarm handler
is swapped it will return a list of the existing alarms in the system which will the be passed to
the new alarm&nbsp;handler.</p>
</div>
<div class="section" id="a-simple-alarm-handler-implementation">
<h2>A simple alarm handler&nbsp;implementation</h2>
<p>As noted in the docs, an alarm handler implementation must handle the following two&nbsp;events:</p>
<p><tt class="docutils literal">{:set_alarm, {alarm_id, alarm_description}}</tt> and
<tt class="docutils literal">{:clear_alarm, alarm_id}</tt>. The first one will be called from the event manager when a new alarm
is created and the send one when the cause of the alarm not longer&nbsp;exists.</p>
<p>Let&#8217;s see a simple implementation of an alarm event&nbsp;handler:</p>
<div class="highlight"><pre><span></span>  <span class="kd">defmodule</span> <span class="nc">Phxcrd.AlarmHandler</span> <span class="k">do</span>
  <span class="kn">import</span> <span class="nc">Bamboo.Email</span>
  <span class="kn">require</span> <span class="nc">Logger</span>

  <span class="kd">def</span> <span class="n">init</span><span class="p">({</span><span class="n">_args</span><span class="p">,</span> <span class="p">{</span><span class="ss">:alarm_handler</span><span class="p">,</span> <span class="n">alarms</span><span class="p">}})</span> <span class="k">do</span>
    <span class="nc">Logger</span><span class="o">.</span><span class="n">debug</span>  <span class="s2">&quot;Custom alarm handler init!&quot;</span>
    <span class="k">for</span> <span class="p">{</span><span class="n">alarm_id</span><span class="p">,</span> <span class="n">alarm_description</span><span class="p">}</span> <span class="o">&lt;-</span> <span class="n">alarms</span><span class="p">,</span> <span class="ss">do</span><span class="p">:</span> <span class="n">handle_alarm</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">,</span> <span class="n">alarm_description</span><span class="p">)</span>
    <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="p">[]}</span>
  <span class="k">end</span>

  <span class="kd">def</span> <span class="n">handle_event</span><span class="p">({</span><span class="ss">:set_alarm</span><span class="p">,</span> <span class="p">{</span><span class="n">alarm_id</span><span class="p">,</span> <span class="n">alarm_description</span><span class="p">}},</span> <span class="n">state</span><span class="p">)</span> <span class="k">do</span>
    <span class="nc">Logger</span><span class="o">.</span><span class="n">warn</span>  <span class="s2">&quot;Got an alarm &quot;</span> <span class="o">&lt;&gt;</span> <span class="nc">Atom</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="s2">&quot; &quot;</span> <span class="o">&lt;&gt;</span> <span class="n">alarm_description</span>
    <span class="n">handle_alarm</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">,</span> <span class="n">alarm_description</span><span class="p">)</span>
    <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">state</span><span class="p">}</span>
  <span class="k">end</span>

  <span class="kd">def</span> <span class="n">handle_event</span><span class="p">({</span><span class="ss">:clear_alarm</span><span class="p">,</span> <span class="n">alarm_id</span><span class="p">},</span> <span class="n">state</span><span class="p">)</span> <span class="k">do</span>
    <span class="nc">Logger</span><span class="o">.</span><span class="n">debug</span>  <span class="s2">&quot;Clearing the alarm  &quot;</span> <span class="o">&lt;&gt;</span>  <span class="nc">Atom</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">|&gt;</span> <span class="nc">IO</span><span class="o">.</span><span class="n">inspect</span>
    <span class="p">{</span><span class="ss">:ok</span><span class="p">,</span> <span class="n">state</span><span class="p">}</span>
  <span class="k">end</span>

  <span class="kd">def</span> <span class="n">handle_alarm</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">,</span> <span class="n">alarm_description</span><span class="p">)</span> <span class="k">do</span>
    <span class="nc">Logger</span><span class="o">.</span><span class="n">debug</span>  <span class="s2">&quot;Handling alarm &quot;</span> <span class="o">&lt;&gt;</span>  <span class="nc">Atom</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">)</span>

    <span class="n">new_email</span><span class="p">(</span>
      <span class="ss">to</span><span class="p">:</span> <span class="s2">&quot;foo@foo.com&quot;</span><span class="p">,</span>
      <span class="ss">from</span><span class="p">:</span> <span class="s2">&quot;bar@bar.gr&quot;</span><span class="p">,</span>
      <span class="ss">subject</span><span class="p">:</span> <span class="s2">&quot;New alarm!&quot;</span><span class="p">,</span>
      <span class="ss">html_body</span><span class="p">:</span> <span class="s2">&quot;&lt;strong&gt;Alert:&quot;</span>  <span class="o">&lt;&gt;</span>  <span class="nc">Atom</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="s2">&quot; &quot;</span> <span class="o">&lt;&gt;</span> <span class="n">alarm_description</span> <span class="o">&lt;&gt;</span>  <span class="s2">&quot;&lt;/strong&gt;&quot;</span><span class="p">,</span>
      <span class="ss">text_body</span><span class="p">:</span> <span class="s2">&quot;Alert:&quot;</span> <span class="o">&lt;&gt;</span>  <span class="nc">Atom</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="s2">&quot; &quot;</span> <span class="o">&lt;&gt;</span> <span class="n">alarm_description</span>
    <span class="p">)</span>
    <span class="o">|&gt;</span> <span class="nc">Phxcrd.Mailer</span><span class="o">.</span><span class="n">deliver_later</span><span class="p">()</span>

    <span class="nc">Logger</span><span class="o">.</span><span class="n">debug</span>  <span class="s2">&quot;End handling alarm &quot;</span> <span class="o">&lt;&gt;</span> <span class="nc">Atom</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">alarm_id</span><span class="p">)</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>
<p>This implementation also has an <tt class="docutils literal">init</tt> function that is called when the handler
is first started. Notice that it receives a list of the existing alarms; for each
one of them I&#8217;ll calle the handle_alarm function. This is needed to handle any
existing alarms when the application is starting. The <tt class="docutils literal">:set_alarm</tt> handler also
calls <tt class="docutils literal">handle_alarm</tt> passing the <tt class="docutils literal">alarm_id</tt> and <tt class="docutils literal">alarm_description</tt> it&nbsp;received.</p>
<p>The <tt class="docutils literal">clear_alarm</tt> doesn&#8217;t do anything (it would be useful if this module used state to
keep a list of the current alarms). Finally, the <tt class="docutils literal">handle_alarm</tt> will just send an
email using <a class="reference external" href="https://github.com/fewlinesco/bamboo_smtp">bamboo_smtp</a>. Notice that I use deliver_later() to send the mail&nbsp;asynchronously.</p>
<p>As you can see this is a very simple example. You can do more things here but I think that
getting the Alarm email should be enough for most&nbsp;situations!</p>
</div>
<div class="section" id="integrating-the-alarm-handler-into-your-elixir-app">
<h2>Integrating the alarm handler into your elixir&nbsp;app</h2>
<p>To use the above mentioned custom alarm event handler I&#8217;ve added the following line to
the start of my  <tt class="docutils literal">Application.start</tt> function:</p>
<div class="highlight"><pre><span></span><span class="ss">:gen_event</span><span class="o">.</span><span class="n">swap_handler</span><span class="p">(</span><span class="ss">:alarm_handler</span><span class="p">,</span> <span class="p">{</span><span class="ss">:alarm_handler</span><span class="p">,</span> <span class="ss">:swap</span><span class="p">},</span> <span class="p">{</span><span class="nc">Phxcrd.AlarmHandler</span><span class="p">,</span> <span class="ss">:ok</span><span class="p">})</span>
</pre></div>
<p>Please notice that the <tt class="docutils literal">:alarm_handler</tt> atom is encountered twice: The first is the event manager
module (for which we want to swich the event handler) while the second is the event handler module
(which is the one we want to&nbsp;replace).</p>
</div>
<div class="section" id="os-mon-configuration">
<h2>os_mon&nbsp;configuration</h2>
<p>The are a number of options you can configure for <cite>os_mon</cite>. You can find them all at the manual page.
For example, just add the following to your <tt class="docutils literal">config.exs</tt>:</p>
<div class="highlight"><pre><span></span><span class="n">config</span> <span class="ss">:os_mon</span><span class="p">,</span>
  <span class="ss">disk_space_check_interval</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="ss">memory_check_interval</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="ss">disk_almost_full_threshold</span><span class="p">:</span> <span class="mf">0.90</span><span class="p">,</span>
  <span class="ss">start_cpu_sup</span><span class="p">:</span> <span class="no">false</span>
</pre></div>
<p>This will set the interval for disk space check to 1 minute, for memory check to 5 minutes, the
disk usage threshold to 90% and will not start the cpu_sup process to get <span class="caps">CPU</span>&nbsp;info.</p>
</div>
<div class="section" id="testing-with-the-terminal">
<h2>Testing with the&nbsp;terminal</h2>
<p>If no alerts are active in your system, you can test your custom event handler using something like this
from an <tt class="docutils literal">iex <span class="pre">-S</span> mix</tt> terminal:</p>
<div class="highlight"><pre><span></span><span class="ss">:alarm_handler</span><span class="o">.</span><span class="n">set_alarm</span><span class="p">({</span><span class="ss">:koko</span><span class="p">,</span> <span class="s2">&quot;ZZZZZZZZZ&quot;</span><span class="p">}</span>
<span class="c1"># or</span>
<span class="ss">:alarm_handler</span><span class="o">.</span><span class="n">clear_alarm</span><span class="p">(</span><span class="ss">:koko</span><span class="p">)</span>
</pre></div>
<p>Also you can see some of the current data or configuration&nbsp;options:</p>
<div class="highlight"><pre><span></span><span class="n">iex</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">&gt;</span> <span class="ss">:disksup</span><span class="o">.</span><span class="n">get_disk_data</span>
<span class="p">[{</span><span class="s1">&#39;C:\\&#39;</span><span class="p">,</span> <span class="mi">234195964</span><span class="p">,</span> <span class="mi">55</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;E:\\&#39;</span><span class="p">,</span> <span class="mi">822396924</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]</span>

<span class="c1"># or</span>
<span class="n">iex</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">&gt;</span> <span class="ss">:disksup</span><span class="o">.</span><span class="n">get_check_interval</span>
<span class="mi">60000</span>
</pre></div>
<p>Please notice that the check interval is in seconds when you set it, in ms when you retrieve&nbsp;it.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>The above should help you if you also want to better understand alert_handler, os_mon and
how to configure it to run your own custom alert handlers. Of course in a production server
you should have proper monitoring tools for the health of your server but since os_mon is more
or less free thanks to erlang, why not add another safety&nbsp;valve?</p>
<p>If you want to take a look at an application that has everything configured, take a
look at my <a class="reference external" href="https://github.com/spapas/phxcrd/">Phoenix template application</a>.</p>
</div>
</div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Serafeim Papastefanos
    </span>
  </span>
<time datetime="2020-05-15T14:20:00+03:00" pubdate>Παρ 15 Μάιος 2020</time>  <span class="categories">
    <a class='category' href='https://spapas.github.io/category/elixir.html'>elixir</a>
  </span>
  <span class="categories">
    <a class="category" href="https://spapas.github.io/tag/elixir.html">elixir</a>,    <a class="category" href="https://spapas.github.io/tag/osmon.html">osmon</a>,    <a class="category" href="https://spapas.github.io/tag/phoenix.html">phoenix</a>,    <a class="category" href="https://spapas.github.io/tag/erlang.html">erlang</a>,    <a class="category" href="https://spapas.github.io/tag/os-monitoring.html">os-monitoring</a>  </span>
</p><div class="sharing">
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="https://spapas.github.io/2020/05/15/elixir-osmon-alerts/" data-via="" data-counturl="https://spapas.github.io/2020/05/15/elixir-osmon-alerts/" >Tweet</a>
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <br />
    <a href='/feeds/all.atom.xml'>Atom</a>
    |
    <a href='/feeds/all.rss.xml'>RSS</a>
  </section>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Sidebar unit -->
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7673322832689008" data-ad-slot="2720624730"
    data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  <section>
    <h1>Subscribe</h1>
    Do you want to get notified via email when I post new content?
    <style>
      .subscribe-button {
        /* margin: 10px !important; */
        padding: 10px !important;
        background-color: black;
        display: inline-block;
        color: white !important;
        text-decoration: none;

        line-height: 36px !important;
        height: 37px !important;
        text-decoration: none !important;
        display: inline-block !important;
        color: #ffffff !important;
        background-color: #000000 !important;
        border-radius: 3px !important;
        border: 1px solid transparent !important;
        padding: 1px 9px !important;
        font-size: 23px !important;
        letter-spacing: 0.6px !important;
        box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
        -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
        margin: 0 auto !important;
        font-family: 'Cookie', cursive !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
        -o-transition: 0.3s all linear !important;
        -webkit-transition: 0.3s all linear !important;
        -moz-transition: 0.3s all linear !important;
        -ms-transition: 0.3s all linear !important;
        transition: 0.3s all linear !important;

      }
    </style>
    <a class='subscribe-button' target="_blank" href="http://eepurl.com/dxI3PP">Click here to subscribe!</a>
  </section>

  <style>
    .bmc-button img {
      width: 27px !important;
      margin-bottom: 3px !important;
      box-shadow: none !important;
      border: none !important;
      vertical-align: middle !important;
    }

    .bmc-button {
      line-height: 36px !important;
      height: 37px !important;
      text-decoration: none !important;
      display: inline-block !important;
      color: #ffffff !important;
      background-color: #000000 !important;
      border-radius: 3px !important;
      border: 1px solid transparent !important;
      padding: 1px 9px !important;
      font-size: 23px !important;
      letter-spacing: 0.6px !important;
      ;
      box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
      -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
      margin: 0 auto !important;
      font-family: 'Cookie', cursive !important;
      -webkit-box-sizing: border-box !important;
      box-sizing: border-box !important;
      -o-transition: 0.3s all linear !important;
      -webkit-transition: 0.3s all linear !important;
      -moz-transition: 0.3s all linear !important;
      -ms-transition: 0.3s all linear !important;
      transition: 0.3s all linear !important;
    }

    .bmc-button:hover,
    .bmc-button:active,
    .bmc-button:focus {
      -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
      text-decoration: none !important;
      box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
      opacity: 0.85 !important;
      color: #ffffff !important;
    }
  </style>
  <link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet">


  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
        <a href="https://spapas.github.io/2020/05/15/elixir-osmon-alerts/">Getting alerts from OS Mon in your Elixir application</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2020/03/27/wagtail-add-latest-changes/">Adding a latest-changes list to your Wagtail site</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2020/03/18/django-crispy-form-quick-easy-layout/">Quick and easy layout of django forms using django-crispy-forms and django-widget-tweaks</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2019/10/17/declarative-ecto-query-sorting/">Declarative Ecto query sorting</a>
      </li>
      <li class="post">
        <a href="https://spapas.github.io/2019/10/03/html-form-submit-php/">How to properly handle an HTML form</a>
      </li>
    </ul>
  </section>
  <section>

    <h1>Categories</h1>
    <ul id="recent_posts">
      <li><a href="https://spapas.github.io/category/android.html">android</a></li>
      <li><a href="https://spapas.github.io/category/css.html">css</a></li>
      <li><a href="https://spapas.github.io/category/django.html">django</a></li>
      <li><a href="https://spapas.github.io/category/elixir.html">elixir</a></li>
      <li><a href="https://spapas.github.io/category/flask.html">flask</a></li>
      <li><a href="https://spapas.github.io/category/git.html">git</a></li>
      <li><a href="https://spapas.github.io/category/html.html">html</a></li>
      <li><a href="https://spapas.github.io/category/javascript.html">javascript</a></li>
      <li><a href="https://spapas.github.io/category/pelican.html">pelican</a></li>
      <li><a href="https://spapas.github.io/category/postgresql.html">postgresql</a></li>
      <li><a href="https://spapas.github.io/category/python.html">python</a></li>
      <li><a href="https://spapas.github.io/category/spring.html">spring</a></li>
      <li><a href="https://spapas.github.io/category/unix.html">unix</a></li>
      <li><a href="https://spapas.github.io/category/wagtail.html">wagtail</a></li>
    </ul>
  </section>

  <section>
    <h1>Tags</h1>
    <a href="https://spapas.github.io/tag/less.html">less</a>,    <a href="https://spapas.github.io/tag/django-crispy-forms.html">django-crispy-forms</a>,    <a href="https://spapas.github.io/tag/rest.html">rest</a>,    <a href="https://spapas.github.io/tag/query.html">query</a>,    <a href="https://spapas.github.io/tag/ecto.html">ecto</a>,    <a href="https://spapas.github.io/tag/tables.html">tables</a>,    <a href="https://spapas.github.io/tag/pivot_table.html">pivot_table</a>,    <a href="https://spapas.github.io/tag/console.html">console</a>,    <a href="https://spapas.github.io/tag/async.html">async</a>,    <a href="https://spapas.github.io/tag/django-rq.html">django-rq</a>,    <a href="https://spapas.github.io/tag/github-pages.html">github-pages</a>,    <a href="https://spapas.github.io/tag/forms.html">forms</a>,    <a href="https://spapas.github.io/tag/yaml.html">yaml</a>,    <a href="https://spapas.github.io/tag/404.html">404</a>,    <a href="https://spapas.github.io/tag/ldap.html">ldap</a>,    <a href="https://spapas.github.io/tag/erlang.html">erlang</a>,    <a href="https://spapas.github.io/tag/immutable.html">immutable</a>,    <a href="https://spapas.github.io/tag/initd.html">init.d</a>,    <a href="https://spapas.github.io/tag/django-widget-tweaks.html">django-widget-tweaks</a>,    <a href="https://spapas.github.io/tag/youtube-dl.html">youtube-dl</a>,    <a href="https://spapas.github.io/tag/python.html">python</a>,    <a href="https://spapas.github.io/tag/django-extensions.html">django-extensions</a>,    <a href="https://spapas.github.io/tag/class-based-views.html">class-based-views</a>,    <a href="https://spapas.github.io/tag/scipy.html">scipy</a>,    <a href="https://spapas.github.io/tag/grid.html">grid</a>,    <a href="https://spapas.github.io/tag/ag-grid.html">ag-grid</a>,    <a href="https://spapas.github.io/tag/du.html">du</a>,    <a href="https://spapas.github.io/tag/watchify.html">watchify</a>,    <a href="https://spapas.github.io/tag/settings.html">settings</a>,    <a href="https://spapas.github.io/tag/flux.html">flux</a>,    <a href="https://spapas.github.io/tag/fixeddatatable.html">FixedDataTable</a>,    <a href="https://spapas.github.io/tag/queries.html">queries</a>,    <a href="https://spapas.github.io/tag/debug.html">debug</a>,    <a href="https://spapas.github.io/tag/imgur.html">imgur</a>,    <a href="https://spapas.github.io/tag/security.html">security</a>,    <a href="https://spapas.github.io/tag/npm.html">npm</a>,    <a href="https://spapas.github.io/tag/hyperapp.html">hyperapp</a>,    <a href="https://spapas.github.io/tag/spring.html">spring</a>,    <a href="https://spapas.github.io/tag/react-redux.html">react-redux</a>,    <a href="https://spapas.github.io/tag/cron.html">cron</a>,    <a href="https://spapas.github.io/tag/babelify.html">babelify</a>,    <a href="https://spapas.github.io/tag/design.html">design</a>,    <a href="https://spapas.github.io/tag/tutorial.html">tutorial</a>,    <a href="https://spapas.github.io/tag/gmail.html">gmail</a>,    <a href="https://spapas.github.io/tag/reportlab.html">reportlab</a>,    <a href="https://spapas.github.io/tag/rq.html">rq</a>,    <a href="https://spapas.github.io/tag/redis.html">redis</a>,    <a href="https://spapas.github.io/tag/python-3.html">python-3</a>,    <a href="https://spapas.github.io/tag/research.html">research</a>,    <a href="https://spapas.github.io/tag/werkzeug.html">werkzeug</a>,    <a href="https://spapas.github.io/tag/jobs.html">jobs</a>,    <a href="https://spapas.github.io/tag/redux-thunk.html">redux-thunk</a>,    <a href="https://spapas.github.io/tag/disk-usage.html">disk-usage</a>,    <a href="https://spapas.github.io/tag/javascript.html">javascript</a>,    <a href="https://spapas.github.io/tag/component.html">component</a>,    <a href="https://spapas.github.io/tag/ajax.html">ajax</a>,    <a href="https://spapas.github.io/tag/elixir.html">elixir</a>,    <a href="https://spapas.github.io/tag/ipython.html">ipython</a>,    <a href="https://spapas.github.io/tag/uglify.html">uglify</a>,    <a href="https://spapas.github.io/tag/configuration.html">configuration</a>,    <a href="https://spapas.github.io/tag/properties.html">properties</a>,    <a href="https://spapas.github.io/tag/bash.html">bash</a>,    <a href="https://spapas.github.io/tag/es6.html">es6</a>,    <a href="https://spapas.github.io/tag/spring-boot.html">spring-boot</a>,    <a href="https://spapas.github.io/tag/postgresql.html">postgresql</a>,    <a href="https://spapas.github.io/tag/kotlin.html">kotlin</a>,    <a href="https://spapas.github.io/tag/adapter.html">adapter</a>,    <a href="https://spapas.github.io/tag/filter.html">filter</a>,    <a href="https://spapas.github.io/tag/flask.html">flask</a>,    <a href="https://spapas.github.io/tag/notebook.html">notebook</a>,    <a href="https://spapas.github.io/tag/static-html.html">static-html</a>,    <a href="https://spapas.github.io/tag/pdf.html">pdf</a>,    <a href="https://spapas.github.io/tag/react-notification.html">react-notification</a>,    <a href="https://spapas.github.io/tag/pelican.html">pelican</a>,    <a href="https://spapas.github.io/tag/tasks.html">tasks</a>,    <a href="https://spapas.github.io/tag/nodejs.html">node.js</a>,    <a href="https://spapas.github.io/tag/unix.html">unix</a>,    <a href="https://spapas.github.io/tag/google.html">google</a>,    <a href="https://spapas.github.io/tag/linux.html">linux</a>,    <a href="https://spapas.github.io/tag/pivot.html">pivot</a>,    <a href="https://spapas.github.io/tag/auditing.html">auditing</a>,    <a href="https://spapas.github.io/tag/git.html">git</a>,    <a href="https://spapas.github.io/tag/java.html">java</a>,    <a href="https://spapas.github.io/tag/introduction.html">introduction</a>,    <a href="https://spapas.github.io/tag/pusher.html">pusher</a>,    <a href="https://spapas.github.io/tag/fixed-data-tables.html">fixed-data-tables</a>,    <a href="https://spapas.github.io/tag/heroku.html">heroku</a>,    <a href="https://spapas.github.io/tag/xhtml2pdf.html">xhtml2pdf</a>,    <a href="https://spapas.github.io/tag/numpy.html">numpy</a>,    <a href="https://spapas.github.io/tag/form.html">form</a>,    <a href="https://spapas.github.io/tag/django-rest-auth.html">django-rest-auth</a>,    <a href="https://spapas.github.io/tag/wagtail.html">wagtail</a>,    <a href="https://spapas.github.io/tag/rst.html">rst</a>,    <a href="https://spapas.github.io/tag/python-2.html">python-2</a>,    <a href="https://spapas.github.io/tag/ffmpeg.html">ffmpeg</a>,    <a href="https://spapas.github.io/tag/middleware.html">middleware</a>,    <a href="https://spapas.github.io/tag/profiles.html">profiles</a>,    <a href="https://spapas.github.io/tag/spring-security.html">spring-security</a>,    <a href="https://spapas.github.io/tag/githubio.html">github.io</a>,    <a href="https://spapas.github.io/tag/error.html">error</a>,    <a href="https://spapas.github.io/tag/asynchronous.html">asynchronous</a>,    <a href="https://spapas.github.io/tag/react-router-redux.html">react-router-redux</a>,    <a href="https://spapas.github.io/tag/select2.html">select2</a>,    <a href="https://spapas.github.io/tag/history.html">history</a>,    <a href="https://spapas.github.io/tag/django-rest-framework.html">django-rest-framework</a>,    <a href="https://spapas.github.io/tag/redux-form.html">redux-form</a>,    <a href="https://spapas.github.io/tag/cbv.html">cbv</a>,    <a href="https://spapas.github.io/tag/scheduling.html">scheduling</a>,    <a href="https://spapas.github.io/tag/plpgsql.html">plpgsql</a>,    <a href="https://spapas.github.io/tag/os-monitoring.html">os-monitoring</a>,    <a href="https://spapas.github.io/tag/boilerplate.html">boilerplate</a>,    <a href="https://spapas.github.io/tag/generic.html">generic</a>,    <a href="https://spapas.github.io/tag/babel.html">babel</a>,    <a href="https://spapas.github.io/tag/authentication.html">authentication</a>,    <a href="https://spapas.github.io/tag/html.html">html</a>,    <a href="https://spapas.github.io/tag/android.html">android</a>,    <a href="https://spapas.github.io/tag/pandas.html">pandas</a>,    <a href="https://spapas.github.io/tag/css.html">css</a>,    <a href="https://spapas.github.io/tag/node.html">node</a>,    <a href="https://spapas.github.io/tag/phoenix.html">phoenix</a>,    <a href="https://spapas.github.io/tag/deploy.html">deploy</a>,    <a href="https://spapas.github.io/tag/mongodb.html">mongodb</a>,    <a href="https://spapas.github.io/tag/react.html">react</a>,    <a href="https://spapas.github.io/tag/autocompelte.html">autocompelte</a>,    <a href="https://spapas.github.io/tag/declarative.html">declarative</a>,    <a href="https://spapas.github.io/tag/osmon.html">osmon</a>,    <a href="https://spapas.github.io/tag/php.html">php</a>,    <a href="https://spapas.github.io/tag/browserify.html">browserify</a>,    <a href="https://spapas.github.io/tag/branching.html">branching</a>,    <a href="https://spapas.github.io/tag/github.html">github</a>,    <a href="https://spapas.github.io/tag/jupyter.html">jupyter</a>,    <a href="https://spapas.github.io/tag/windows.html">windows</a>,    <a href="https://spapas.github.io/tag/youtube.html">youtube</a>,    <a href="https://spapas.github.io/tag/django.html">django</a>,    <a href="https://spapas.github.io/tag/q.html">q</a>,    <a href="https://spapas.github.io/tag/react-router.html">react-router</a>,    <a href="https://spapas.github.io/tag/redux.html">redux</a>,    <a href="https://spapas.github.io/tag/boostrap-material-design.html">boostrap-material-design</a>  </section>

  <section>
    <h1>Yearly archives</h1>
    <a href="https://spapas.github.io/posts/2013/">2013</a>,    <a href="https://spapas.github.io/posts/2014/">2014</a>,    <a href="https://spapas.github.io/posts/2015/">2015</a>,    <a href="https://spapas.github.io/posts/2016/">2016</a>,    <a href="https://spapas.github.io/posts/2017/">2017</a>,    <a href="https://spapas.github.io/posts/2018/">2018</a>,    <a href="https://spapas.github.io/posts/2019/">2019</a>,    <a href="https://spapas.github.io/posts/2020/">2020</a>  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/spapas">@spapas</a> on GitHub
    <script  src="//code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script type="text/javascript">
      $(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'https://spapas.github.io/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'spapas',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="https://spapas.github.io/theme/js/github.js" type="text/javascript"> </script>
  </section>


  <section>
    <a href="https://twitter.com/_serafeim_?ref_src=twsrc%5Etfw" class="twitter-follow-button"
      data-show-count="false">Follow @_serafeim_</a>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2013&ndash;2020  Serafeim Papastefanos &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="https://spapas.github.io/theme/js/modernizr-2.0.js"></script>
  <script src="https://spapas.github.io/theme/js/ender.js"></script>
  <script src="https://spapas.github.io/theme/js/octopress.js" type="text/javascript"></script>
  <script src="https://spapas.github.io/theme/js/ads.js"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44750952-1', 'auto');

    ga('send', 'pageview');
    </script>
  <script type="text/javascript">
    var disqus_shortname = 'spapas-github-io';
    var disqus_identifier = '/2020/05/15/elixir-osmon-alerts/';
    var disqus_url = 'https://spapas.github.io/2020/05/15/elixir-osmon-alerts/';
    var disqus_title = 'Getting alerts from <span class="caps">OS</span> Mon in your Elixir&nbsp;application';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
  <script>
    if( window.canRunAds === undefined ){
        // adblocker detected, show fallback
        console.log("CANNOT RUN ADS");
        document.getElementById('gHPzseYvFrhZ123').style.display='block';
      }
  </script>
</body>

</html>